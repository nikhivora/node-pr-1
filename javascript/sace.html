<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <script src="	https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
<input type="hidden" id="Editid">
    <input type="text" placeholder="frist name" id="fname">
    <input type="text" placeholder="last name" id="lname">
    <input type="text" placeholder="password" id="pass">
    <button id="add" onclick="viewrecord()">submit</button>
    <button id="edit" onclick="updetuers()">Edit</button>
    <table class="table">
        <thead>
            <th>id</th>
            <th>fristname</th>
            <th>lastname</th>
            <th>password</th>
            <th>action</th>
        </thead>
        <tbody id="tbody">

        </tbody>
    </table>


    <script>


        let uers = []
        console.log(uers);

        let loaddeta = () => {

            document.getElementById("add").style.display = 'block'
            document.getElementById("Edit").style.display = 'none'
            let tbl = "";
            uers.map((val, index) => {
                tbl += `
                    <tr>
                        <td>  ${val.id}</td>
                        <td>${val.fname}</td>
                        <td>${val.lname}</td>
                        <td>${val.pass}</td>
                        <td><button onclick="deleteuers(${val.id})">delete</button>
                        <button onclick="Edituers(${val.id})">Edit</button></td>
                       
                        
                   
            </tr>
                `
            })
            document.getElementById("tbody").innerHTML = tbl
        }
        let viewrecord = () => {
            
            let fristname = document.getElementById("fname").value
            let lastname = document.getElementById("lname").value
            let pass = document.getElementById("pass").value

            let obj = {
                id: Math.floor(Math.random() * 1000),
                fname: fristname,
                lname: lastname,
                pass: pass,
            }
            uers.push(obj)
            document.getElementById("fname").value = ""
            document.getElementById("lname").value = ""
            document.getElementById("pass").value = ""
            loaddeta()
        }


        let deleteuers = (id) => {
            alert("hii")
            let deletedata = uers.filter(item => item.id !== id);
            uers = deletedata
            loaddeta()
        }

        let Edituers = (id) => {
                     document.getElementById("add").style.display = 'none'
            document.getElementById("Edit").style.display = 'block'
       let Edit=uers.find(val=>val.id==id)
       document.getElementById("fname").value =Edit.fname
       document.getElementById("Editid").value =Edit.id
       document.getElementById("lname").value =Edit.lname
       document.getElementById("pass").value =Edit.pass
        }

        let updetuers=()=>{
            let updet=document.getElementById("Editid").value
            let userfname=document.getElementById("fname").value
            let userlname=document.getElementById("lname").value
            let pass=document.getElementById("pass").value
            let up=uers.map((val)=>{
                if(val.id==updet){
                    val.fname=userfname
                    val.lname=userlname
                    val.pass=pass
                }
                return val
            })
            uers=up;
            document.getElementById("fname").value = ""
            document.getElementById("lname").value = ""
            document.getElementById("pass").value = ""
            loaddeta()
        }
    </script>

</body>

</html>